{"ast":null,"code":"import _objectSpread from\"/Users/rahultiwari/Desktop/cutShort/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import{AUTH_ERROR,LOADING_ON_AUTH_SUBMIT,LOGOUT,LOGIN_SUCCESS,LOGIN_FAIL,SELF_LOADED}from\"../actions/types\";var initialState={token:localStorage.getItem(\"token\"),isAuthenticated:null,selfLoaded:null,loading:false,error:{}};export default function(){var state=arguments.length>0&&arguments[0]!==undefined?arguments[0]:initialState;var action=arguments.length>1?arguments[1]:undefined;var type=action.type,payload=action.payload;switch(type){case AUTH_ERROR:case LOGOUT:case LOGIN_FAIL:localStorage.removeItem(\"jwt\");return _objectSpread(_objectSpread({},state),{},{token:null,selfLoaded:null,isAuthenticated:false,loading:false});case SELF_LOADED:return _objectSpread(_objectSpread({},state),{},{isAuthenticated:true,loading:false,selfLoaded:payload});case LOGIN_SUCCESS:localStorage.setItem(\"token\",payload);return _objectSpread(_objectSpread(_objectSpread({},state),payload),{},{isAuthenticated:true,loading:false});case LOADING_ON_AUTH_SUBMIT:return _objectSpread(_objectSpread({},state),{},{loading:true});default:return state;}}","map":{"version":3,"sources":["/Users/rahultiwari/Desktop/cutShort/src/reducers/auth.js"],"names":["AUTH_ERROR","LOADING_ON_AUTH_SUBMIT","LOGOUT","LOGIN_SUCCESS","LOGIN_FAIL","SELF_LOADED","initialState","token","localStorage","getItem","isAuthenticated","selfLoaded","loading","error","state","action","type","payload","removeItem","setItem"],"mappings":"wHAAA,OACEA,UADF,CAEEC,sBAFF,CAGEC,MAHF,CAIEC,aAJF,CAKEC,UALF,CAMEC,WANF,KAOO,kBAPP,CASA,GAAMC,CAAAA,YAAY,CAAG,CACnBC,KAAK,CAAEC,YAAY,CAACC,OAAb,CAAqB,OAArB,CADY,CAEnBC,eAAe,CAAE,IAFE,CAGnBC,UAAU,CAAC,IAHQ,CAInBC,OAAO,CAAE,KAJU,CAKnBC,KAAK,CAAE,EALY,CAArB,CAQA,cAAe,WAAwC,IAA9BC,CAAAA,KAA8B,2DAAtBR,YAAsB,IAARS,CAAAA,MAAQ,2CACrD,GAAQC,CAAAA,IAAR,CAA0BD,MAA1B,CAAQC,IAAR,CAAcC,OAAd,CAA0BF,MAA1B,CAAcE,OAAd,CACA,OAAQD,IAAR,EACE,IAAKhB,CAAAA,UAAL,CACA,IAAKE,CAAAA,MAAL,CACA,IAAKE,CAAAA,UAAL,CACEI,YAAY,CAACU,UAAb,CAAwB,KAAxB,EACA,sCACKJ,KADL,MAEEP,KAAK,CAAE,IAFT,CAGEI,UAAU,CAAE,IAHd,CAIED,eAAe,CAAE,KAJnB,CAKEE,OAAO,CAAE,KALX,GAOF,IAAKP,CAAAA,WAAL,CACE,sCACKS,KADL,MAEEJ,eAAe,CAAE,IAFnB,CAGEE,OAAO,CAAE,KAHX,CAIED,UAAU,CAAEM,OAJd,GAMF,IAAKd,CAAAA,aAAL,CACEK,YAAY,CAACW,OAAb,CAAqB,OAArB,CAA8BF,OAA9B,EACA,oDACKH,KADL,EAEKG,OAFL,MAGEP,eAAe,CAAE,IAHnB,CAIEE,OAAO,CAAE,KAJX,GAMF,IAAKX,CAAAA,sBAAL,CACE,sCACKa,KADL,MAEEF,OAAO,CAAE,IAFX,GAKF,QACE,MAAOE,CAAAA,KAAP,CAlCJ,CAoCD","sourcesContent":["import {\n  AUTH_ERROR,\n  LOADING_ON_AUTH_SUBMIT,\n  LOGOUT,\n  LOGIN_SUCCESS,\n  LOGIN_FAIL,\n  SELF_LOADED,\n} from \"../actions/types\";\n\nconst initialState = {\n  token: localStorage.getItem(\"token\"),\n  isAuthenticated: null,\n  selfLoaded:null,\n  loading: false,\n  error: {},\n};\n\nexport default function (state = initialState, action) {\n  const { type, payload } = action;\n  switch (type) {\n    case AUTH_ERROR:\n    case LOGOUT:\n    case LOGIN_FAIL:\n      localStorage.removeItem(\"jwt\");\n      return {\n        ...state,\n        token: null,\n        selfLoaded: null,\n        isAuthenticated: false,\n        loading: false,\n      };\n    case SELF_LOADED:\n      return {\n        ...state,\n        isAuthenticated: true,\n        loading: false,\n        selfLoaded: payload,\n      };\n    case LOGIN_SUCCESS:\n      localStorage.setItem(\"token\", payload);\n      return {\n        ...state,\n        ...payload,\n        isAuthenticated: true,\n        loading: false,\n      };\n    case LOADING_ON_AUTH_SUBMIT:\n      return {\n        ...state,\n        loading: true,\n      };\n\n    default:\n      return state;\n  }\n}\n"]},"metadata":{},"sourceType":"module"}